<?php	function addOnJson($upload_path){		/*		 * @author Mateus		 * @since 06/2017		 * @content Adicionar ao json tudo que é submetido no POST		 * */		$livro = [];		$livro['livro'] = $_POST['titulo'];		$livro['autor'] = $_POST['autor'];		$livro['data_cadastro'] = date('d/m/Y');		if(empty($_FILES)){			$livro['img'] = 'default.jpg';		}else{			$livro['img'] = nomeDoArquivo($upload_path.'img/');		}		$livro['genero'] = $_POST['genero'];		$upload_path = $upload_path.'arquivo.json';		$inp = file_get_contents($upload_path);		$tempArray = json_decode($inp);		array_push($tempArray->livros, $livro);		$jsonData = json_encode($tempArray);		file_put_contents($upload_path, $jsonData);	}	function nomeDoArquivo($upload_path){		/*		 * @author Mateus		 * @since 06/2017		 * @content Busca o último arquivo em ordem alfabética no local de upload e retorna o nome do arquivo de upload		 * para o próximo na ordem, adicionando a extensão		 * */		// obtêm o último arquivo e incrementa o numero dele		$all_files = scandir($upload_path,1);		$last_files = explode('.',$all_files[0]);		$last_files = explode('img',$last_files[0]);		$number_last_files = intval($last_files[1])+1;		//Adiciona o nome correto para o arquivo de upload		if($number_last_files < 10){			$name_of_file = 'img0'.$number_last_files;		}else{			$name_of_file = 'img'.$number_last_files;		}		//Verifica o MIME type do arquivo enviado		if($_FILES['capa']['type'] == 'image/png'){			return $name_of_file.'.png';		}elseif($_FILES['capa']['type'] == 'image/jpeg'){			return $name_of_file.'.jpg';		}	}